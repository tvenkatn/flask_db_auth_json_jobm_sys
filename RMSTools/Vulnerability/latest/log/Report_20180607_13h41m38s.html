<!DOCTYPE html>
 <html>
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
 
 <title>Vulnerability validation tool</title>
 
 <script type="text/javascript">
 window.onload = function() {
   var imgs = document.getElementsByTagName('img'), i, img;
   for (i = 0; i < imgs.length; i++) {
     img = imgs[i];
     // center an image if it is the only element of its parent
     if (img.parentElement.childElementCount === 1)
       img.parentElement.style.textAlign = 'center';
   }
 };
 </script>
 
 
 
 
 
 <style type="text/css">
 body, td {
    font-family: sans-serif;
    background-color: white;
    font-size: 13px;
 }
 
 body {
   max-width: 800px;
   margin: auto;
   padding: 1em;
   line-height: 20px;
 }
 
 tt, code, pre {
    font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
 }
 
 h1 {
    font-size:2.2em;
 }
 
 h2 {
    font-size:1.8em;
 }
 
 h3 {
    font-size:1.4em;
 }
 
 h4 {
    font-size:1.0em;
 }
 
 h5 {
    font-size:0.9em;
 }
 
 h6 {
    font-size:0.8em;
 }
 
 a:visited {
    color: rgb(50%, 0%, 50%);
 }
 
 pre, img {
   max-width: 100%;
 }
 pre {
   overflow-x: auto;
 }
 pre code {
    display: block; padding: 0.5em;
 }
 
 code {
   font-size: 92%;
   border: 1px solid #ccc;
 }
 
 code[class] {
   background-color: #F8F8F8;
 }
 
 table, td, th {
   border: none;
 }
 
 blockquote {
    color:#666666;
    margin:0;
    padding-left: 1em;
    border-left: 0.5em #EEE solid;
 }
 
 hr {
    height: 0px;
    border-bottom: none;
    border-top-width: thin;
    border-top-style: dotted;
    border-top-color: #999999;
 }
 
 @media print {
    * {
       background: transparent !important;
       color: black !important;
       filter:none !important;
       -ms-filter: none !important;
    }
 
    body {
       font-size:12pt;
       max-width:100%;
    }
 
    a, a:visited {
       text-decoration: underline;
    }
 
    hr {
       visibility: hidden;
       page-break-before: always;
    }
 
    pre, blockquote {
       padding-right: 1em;
       page-break-inside: avoid;
    }
 
    tr, img {
       page-break-inside: avoid;
    }
 
    img {
       max-width: 100% !important;
    }
 
    @page :left {
       margin: 15mm 20mm 15mm 10mm;
    }
 
    @page :right {
       margin: 15mm 10mm 15mm 20mm;
    }
 
    p, h2, h3 {
       orphans: 3; widows: 3;
    }
 
    h2, h3 {
       page-break-after: avoid;
    }
 }
 </style>
 
 
 
 </head>
 
 <body>
 <h1>Vulnerability validation tool</h1>
 
 <p>The document is <a href="N:/APPLICS/EngTools/R_packages/MDValidation/Vulnerability/Vulnerability_ToolRequirement.docx">here</a></p>
 
 <blockquote>
 <p>Date run:  2018-06-07 13:41:41</p>
 
 <p>Vuln database: RMS_VULN_NAEQ_v37_NG    (ca1mdrlcsint02)</p>
 </blockquote>
 
 <p>This tool tests the integrity of Vulncache\Vulnerability database and verifies that the data is properly transferred between RL tables and HD tables</p>
 

<nav role="navigation" class="table-of-contents">
<h3 id="top">TABLE OF CONTENTS:</h1>
<ul>
<li><a href="#1"><font color="black">Test-0: Database Information</font></a></li> <li><a href="#2"><font color="green">Test-0.1: Use &ldquo;CS&rdquo; instead of &ldquo;TO&rdquo; Tables. (Only for TO) <a href="https://jira.rms.com/browse/MDF-87">https://jira.rms.com/browse/MDF-87</a></font></a></li> <li><a href="#3"><font color="orange">Test-1: Tables Availability</font></a></li> <li><a href="#4"><font color="orange">Test-2: Empty Tables</font></a></li> <li><a href="#5"><font color="orange">Test-3: Risklink Tables Without Index</font></a></li> <li><a href="#6"><font color="orange">Test-4: Comparison of Number of Rows in corresponding RL/ HD tables (HD Only)</font></a></li> <li><a href="#7"><font color="red">Test-5: Consistency of Data within VGEO Table and Comparison Between RL And HD Versions of VGEO Table (HD Only)</font></a></li> <li><a href="#8"><font color="green">Test-6: Comparison Between RL and HD Versions of CGHS table (HD Only)</font></a></li> <li><a href="#9"><font color="green">Test-7: Comparison Between RL and HD Versions of IMAP table (HD Only)</font></a></li> <li><a href="#10"><font color="green">Test-8: Comparison Between RL and HD Versions of VINV Table (HD Only)</font></a></li> <li><a href="#11"><font color="green">Test-9: Test VDC0 Table</font></a></li> <li><a href="#12"><font color="green">Test-10: Comparison Between RL and HD Versions of VCC Table (HD Only)</font></a></li> <li><a href="#13"><font color="green">Test-11: Comparison Between RL and HD Versions of VOCC Table (HD Only)</font></a></li> <li><a href="#14"><font color="green">Test-12: Test Existence of Pdc_Num In VINV if the Same Modif_Pdc Exists in IMAP For A Given Inv_Recnum (HD Only)</font></a></li> <li><a href="#15"><font color="green">Test-13: Test for Case Sensitivity in Map_Invocc and Map_Invkey Tables</font></a></li> <li><a href="#16"><font color="red">Test-14: Consistency of Data Between VCC and IMAP Tables</font></a></li> <li><a href="#17"><font color="green">Test-15: Consistency of Data Between VOCC and IMAP Tables</font></a></li> <li><a href="#18"><font color="green">Test-16: Consistency of Data Between VGEO and IMAP Tables</font></a></li> <li><a href="#19"><font color="NA">Test-17: Integrity of IMAP with VCC, VOCC, VGEO, Using PDC list received from modelers. (NAEQ17 Only)</font></a></li> <li><a href="#20"><font color="green">Test-18: All CV Keys in IMAP Should Exist in VCV Table</font></a></li> <li><a href="#21"><font color="NA">Test-19: Consistency of Data Between Fliinv and Vcc, Vocc, Vgeo Tables</font></a></li> <li><a href="#22"><font color="green">Test-20: All Secondary Modifiers Should Have Options</font></a></li> <li><a href="#23"><font color="green">Test-21: All DC_Keys in VHAZ should exist in VGEO table</font></a></li> <li><a href="#24"><font color="red">Test-22: Consistency of BI_Key between Vgeo and other BI-Related Tables</font></a></li> <li><a href="#25"><font color="green">Test-23: All INV_Recnums In IMAP Should Exist in VRS Table</font></a></li> <li><a href="#26"><font color="orange">Test-24: Test If Damage in VDC0 Table Are within Allowable Range</font></a></li> <li><a href="#27"><font color="green">Test-25: Vulnerability Alternative Curve Tests</font></a></li> <li><a href="#28"><font color="red">Test-26: Test Vlifelinebidc Table is Monotonically Increasing</font></a></li> <li><a href="#29"><font color="red">Test-27: Minimum Value of MDR in CV Curves Should Start from Zero and Maximum Should be Above 100</font></a></li> <li><a href="#30"><font color="green">Test-28: Test to Ensures Count of Modifier Options for A Given Modifier In A Given Model Does Not Exceed The Allowable Maximum.</font></a></li> <li><a href="#31"><font color="NA">Test-29: Consistency of x_CLASSIF and x_CLASS values across all perils for each country</font></a></li> <li><a href="#32"><font color="NA">Test-30: All codes in VGEO table should exist in NGGeography database</font></a></li> <li><a href="#33"><font color="red">Test-31  Test if summation of def_invpct in inv table adds up to 100</font></a></li> <li><a href="#34"><font color="green">Test-32 Check if the list of distinct values of INV_RECNUM in IMAP table is the same as the list of distinct values of INV_RECNUM in vinv table</font></a></li> <li><a href="#35"><font color="green">Test-33 CONSISTENCY OF BI_OCC BETWEEN VOCC AND OTHER BI RELATED TABLES (KEY IS BI_OCC)</font></a></li> <li><a href="#36"><font color="green">Test-34 Check all columns in all tables of database to ensure always (From) is smaller than or equal to (To)</font></a></li> <li><a href="#37"><font color="red">Test-35 All BI_OCCs in vbi table should have SD based DSIDs in vds table.(KEY IS BI_OCC)</font></a></li> <li><a href="#38"><font color="green">Test-36 Check for cases where YR_TO==9999 in the imap table. Jira MDF-114</font></a></li> <li><a href="#39"><font color="green">Test-37.  Check Valid AggHaz_Occ list for RL climate models(HU,CS and WT) Jira MDF-101</font></a></li> <li><a href="#40"><font color="NA">Test-38.  BI_CV curve should monotonically decrease with increase in MDR. Jira <a href="https://jira.rms.com/browse/MDF-120">https://jira.rms.com/browse/MDF-120</a></font></a></li> </ul>
</nav>
<h4 id='1'>Test-0: Database Information</h4>
 
 <p>Check if database includes  both RiskLink and HD Tables or only includes RiskLink Tables</p>
 
 <pre><code>        List of countries:US
         List of perils:EQ
         Database includes risklink tables.
         Database includes HD tables.
 </code></pre>
 
 <p>The Countries in this database are us .</p>
 <a href="#top">Go to top</a>
 <h4 id='2'>Test-0.1: Use &ldquo;CS&rdquo; instead of &ldquo;TO&rdquo; Tables. (Only for TO) <a href="https://jira.rms.com/browse/MDF-87">https://jira.rms.com/browse/MDF-87</a></h4>
 
 <pre><code>         <b><font color="green">PASS!</font></b> database does not contain &#39;to&#39; peril
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='3'>Test-1: Tables Availability</h4>
 
 <p>Tests if all tables listed in &ldquo;VulnDb_ExpectedTables.csv&rdquo; file located in data folder are included in the input database.</p>
 
 <pre><code>          Check risklink tables: 
           <b><font color="orange">WARNING!</font></b> 
          eqvhsrus
          eqvlifus
          eqvllus
 
           Check HD tables: 
          vll
          LandMDR
          LiqMDR
          vhsr
          vlif
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='4'>Test-2: Empty Tables</h4>
 
 <p>Check for empty tables </p>
 
 <pre><code>          Check risklink tables: 
           <b><font color="orange">WARNING!</font></b> 
          eqvmodus
          eqvpdcdscus
          eqvuwtus
          eqvyrus
 
           CHECK NG TABLES: 
          <b><font color="orange">WARNING!</font></b>
          vbrdr
          vbrtv
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='5'>Test-3: Risklink Tables Without Index</h4>
 
 <p>Check for indexing only in RL tables. HD tables will be eventually converted to binaries.</p>
 
 <pre><code>
 EQ-US:
          <b><font color="orange">WARNING!</font></b>
          eqvdsus
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='6'>Test-4: Comparison of Number of Rows in corresponding RL/ HD tables (HD Only)</h4>
 
 <p>This test compares the number of rows in each RislLink Table with its corresponding table in the HD and reports any dissimilarity.</p>
 
 <pre><code>         <b><font color="orange">WARNING!</font></b>
      NG       RL
 1:   NA       NA
 2:  vll  eqvllus
 3: vhsr eqvhsrus
 4: vlif eqvlifus
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='7'>Test-5: Consistency of Data within VGEO Table and Comparison Between RL And HD Versions of VGEO Table (HD Only)</h4>
 
 <ol>
 <li> Checks and reports duplicate postal codes in vgeo table</li>
 <li> Checks and reports duplicate district numbers</li>
 <li> Checks for the number of distinct states in vgeo table</li>
 <li> Check if records with the same GEO_RECNUM have the same values in both RL and NG vgeo tables</li>
 <li> Checks if the last record in vgeo table is a wild card</li>
 <li> All admin geoids in a record cannot be zero except for the wild card. The test checks for this criteria and reports if the criteria is not satisfied. </li>
 </ol>
 
 <pre><code>
 US:
          <b><font color="orange">WARNING!</font></b> numberof duplicate postalcodes =5
          Dupicate Postal Codes Are:
          c(63673, 72395, 57724, 57717, 42223)
 -----------------------------------------------------------------------------------------------------------------
          Numberof Distinct Admin1Code (States) =50
          Numberof Distinct Admin1Code based on NG-Geography =51
          <b><font color="orange">WARNING!</font></b> differnece(s) between the database and nggeography include:         de
 
 -----------------------------------------------------------------------------------------------------------------
          Numberof Distinct Admin2Code (Counties) =272
          Numberof Distinct Admin2Code based on NG-Geography =325
          <b><font color="orange">WARNING!</font></b> difference(s) between the database and nggeography include:
          14
                    20
                    86
                    102
                    110
                    170
 
 -----------------------------------------------------------------------------------------------------------------
          <b><font color="green">PASS!</font></b> all records with the same georecnum matched between two tables!
 
 -----------------------------------------------------------------------------------------------------------------
          <b><font color="red">FAIL!</font></b> vgeo table does not include the wild card
 -----------------------------------------------------------------------------------------------------------------
          <b><font color="green">PASS!</font></b> no row contaons all admin geoids equal to zero except the wild card.
 -----------------------------------------------------------------------------------------------------------------
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='8'>Test-6: Comparison Between RL and HD Versions of CGHS table (HD Only)</h4>
 
 <ol>
 <li> Checks if the records with same cghs_ID, have equivalent Hazard_Type, Hazard_Scale, and Coverage. It uses the mapping tables to find the equivalent values. It reports any dissimilarity between two tables.</li>
 <li> Checks if all CVG_GRADEs include only 0 or all values between 0 and 4.</li>
 </ol>
 
 <pre><code>
 EQ-US:
          <b><font color="green">PASS!</font></b> all records with the same cghs_id matched between two tables!
          Check for NG Tables:
          <b><font color="green">PASS!</font></b> cvg_grades are between 0 and 4 in cghs table
          <b><font color="green">PASS!</font></b> cvg_grades include only 0 or all values between 0 and 4 in cghs table
 
 -----------------------------------------------------------------------------------------------------------------
 
 US:
          <b><font color="green">PASS!</font></b> cvg_grades are between 0 and 4 in eqcghsus  table
          <b><font color="green">PASS!</font></b> cvg_grades include only 0 or all values between 0 and 4 in cghs table
 
 -----------------------------------------------------------------------------------------------------------------
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='9'>Test-7: Comparison Between RL and HD Versions of IMAP table (HD Only)</h4>
 
 <p>Compares equivalent records between RL and HD versions of Imap table and reports dissimilarities. 
 This test uses INV_Recnum as the key for comparison. </p>
 
 <pre><code>
 EQ-US:
          <b><font color="green">PASS!</font></b> all records with the same inv_recnum matched between two tables!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='10'>Test-8: Comparison Between RL and HD Versions of VINV Table (HD Only)</h4>
 
 <p>Compares equivalent records between RL and NG versions of vinv table and reports dissimilarities. </p>
 
 <pre><code>
 EQ-US:
          <b><font color="green">PASS!</font></b> all records with the same inv_recnum, pdc_group,and pdc_num matched between two tables!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='11'>Test-9: Test VDC0 Table</h4>
 
 <ol>
 <li>Check if all damage curves are monotonically increasing</li>
 <li>Check if the x-axis on all damage curves are monotonically increasing</li>
 <li>Check if curves with the same CGHS_ID have the same number or records</li>
 </ol>
 
 <pre><code>
 CHECK RISKLINK TABLES: 
 
 EQ-US:
          <b><font color="green">PASS!</font></b> all vdc0 curves are monotonically increasing!
 
 
 CHECK NG TABLES: 
          <b><font color="green">PASS!</font></b> all vdc0 curves are monotonically increasing!
          <b><font color="green">PASS!</font></b> x-axes on all vdc0 curves are monotonically increasing!
          <b><font color="green">PASS!</font></b> all curves with the same cghs-id have the same number of records!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='12'>Test-10: Comparison Between RL and HD Versions of VCC Table (HD Only)</h4>
 
 <p>Compares equivalent records between RL and HD versions of vcc table and reports dissimilarities. </p>
 
 <pre><code>
 EQ-US:
          <b><font color="green">PASS!</font></b> all records matched!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='13'>Test-11: Comparison Between RL and HD Versions of VOCC Table (HD Only)</h4>
 
 <p>Compares equivalent records between RL and HD versions of vocc table and reports dissimilarities. </p>
 
 <pre><code>
 EQ-US:
          <b><font color="green">PASS!</font></b> all records matched!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='14'>Test-12: Test Existence of Pdc_Num In VINV if the Same Modif_Pdc Exists in IMAP For A Given Inv_Recnum (HD Only)</h4>
 
 <p>This test checks if for any combination of inv_recnum and modif_pdc in imap table there exist a record in vinv table with the same inv_recnum and pdc_num.</p>
 
 <pre><code>
 US:
          <b><font color="green">PASS!</font></b> all records matched!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='15'>Test-13: Test for Case Sensitivity in Map_Invocc and Map_Invkey Tables</h4>
 
 <p>This test identifies repeated keys in Map_InvOcc and Map_InvKey tables. That can happen if key values are recorded in different capital and lowercase letters. As an example &ldquo;unknown&rdquo; and &ldquo;UnKnown.&rdquo;</p>
 
 <pre><code>         <b><font color="green">PASS!</font></b> no case sensitivity problem is found!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='16'>Test-14: Consistency of Data Between VCC and IMAP Tables</h4>
 
 <pre><code>
 EQ-US:
          <b><font color="orange">WARNING!</font></b> number of records that have not an exact match of combination of mapcclssif, mapcctier1, mapcctier2, and mapcctier3: 3
          Examples are as follows:
    CC_RECNUM MAPCCLSSIF MAPCCTIER1 MAPCCTIER2 MAPCCTIER3
 1:       326        ATC         63         NA         NA
 2:       334         BR          0         NA         NA
 3:      1000  RMSCGSPEC          0         NA         NA
 
          <b><font color="orange">WARNING!</font></b> number of vcc records that have not an exact match but falling back to a record in imap which is not wild card: 1
   CC_RECNUM MAPCCLSSIF MAPCCTIER1 MAPCCTIER2 MAPCCTIER3
 1      1000  RMSCGSPEC          0         NA         NA
 
          <b><font color="red">FAIL!</font></b> number of vcc records that are falling back to the wild card: 2
   CC_RECNUM MAPCCLSSIF MAPCCTIER1 MAPCCTIER2 MAPCCTIER3
 1       326        ATC         63         NA         NA
 2       334         BR          0         NA         NA
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='17'>Test-15: Consistency of Data Between VOCC and IMAP Tables</h4>
 
 <p>This test checks if all INV_OCC values in VOCC table exist in IMAP.</p>
 
 <pre><code>
 EQ-US:
          <b><font color="green">PASS!</font></b> all records matched!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='18'>Test-16: Consistency of Data Between VGEO and IMAP Tables</h4>
 
 <p>This test checks if all INV_KEY values in VGEO table exist in IMAP.</p>
 
 <pre><code>
 EQ-US:
          <b><font color="green">PASS!</font></b> all records matched!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='19'>Test-17: Integrity of IMAP with VCC, VOCC, VGEO, Using PDC list received from modelers. (NAEQ17 Only)</h4>
 
 <pre><code>
 US:
 
 EQ-US:
 </code></pre>
 
 <pre><code>Error in paste0(db, &quot;..&quot;, Perils[j], &quot;cghs&quot;, Countries[i], collapse = &quot;&quot;): object &#39;db&#39; not found
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='20'>Test-18: All CV Keys in IMAP Should Exist in VCV Table</h4>
 
 <p>This test checks if the list of distinct values of CV_KEY in IMAP table is the same as the list of distinct values of CV_KEY in VCV table. </p>
 
 <pre><code>
 EQ-US:
          <b><font color="green">PASS!</font></b> all records matched!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='21'>Test-19: Consistency of Data Between Fliinv and Vcc, Vocc, Vgeo Tables</h4>
 
 <ol>
 <li> This test checks if the list of distinct values of FFEQ_OCC in VOCC table is the same as the list of distinct values of FFEQ_OCC filed in FLIINV tables. </li>
 <li> Check case sensitivity of FFEQ_OCC in FLIINV and VOCC tables. Any repeated value with the same spelling but different capital or lower-case letters is identified in this test.</li>
 <li> Checks if all distinct values of MAPCCLSSIF, MAPCCTIER1, MAPCCTIER2, and MAPCCTIER3 are the same between FLIINV and VCC tables.</li>
 <li> Checks if all distinct values of INV_KEY are the same in both FLIINV and VGEO tables.</li>
 </ol>
 
 <pre><code>
 EQ-US:
          Does not have FF peril!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='22'>Test-20: All Secondary Modifiers Should Have Options</h4>
 
 <pre><code>
 EQ-US:
          <b><font color="green">PASS!</font></b> all modif pdcs have options.
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='23'>Test-21: All DC_Keys in VHAZ should exist in VGEO table</h4>
 
 <p>This test checks if the list of distinct values of DC_KEY in VHAZ table is the same as the list of distinct values of DC _KEY in VGEO table. </p>
 
 <pre><code>
 EQ-US:
          <b><font color="green">PASS!</font></b> all records matched!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='24'>Test-22: Consistency of BI_Key between Vgeo and other BI-Related Tables</h4>
 
 <pre><code>
 EQ-US:
 [1] &quot;BI Related tables are :&quot;
               name
 1:     eqvvrggeous
 2:        eqvgeous
 3: eqvlifelinebius
 4:         eqvbius
 5:      eqvbimodus
          <b><font color="red">FAIL!</font></b> number of tables with different bi_keys= 1
          Distinct BI_KEYs in the following table(s) does not match distinct BI_KEYS in VGEO table:
          eqvvrggeous
          <b><font color="green">PASS!</font></b> no case sensitivity problem in bi_keys is found!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='25'>Test-23: All INV_Recnums In IMAP Should Exist in VRS Table</h4>
 
 <p>This test checks if the list of distinct values of INV_RECNUM in IMAP table is the same as the list of distinct values of INV_RECNUM in VRS table. </p>
 
 <pre><code>
 EQ-US:
          <b><font color="green">PASS!</font></b> all records matched!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='26'>Test-24: Test If Damage in VDC0 Table Are within Allowable Range</h4>
 
 <pre><code>
 EQ-US:
          <b><font color="green">PASS!</font></b> maximum in all records is less than 100%!
          <b><font color="orange">WARNING!</font></b> number of vdc0 curves with min number less than 1% = 49664
          A sample of records with min number less than 1%  :
          DC_KEY  PDC_NUM CGHS_ID Max_Damage
          7            4592            13              0.79152   
    HAZ_TYPE HAZ_SCALE Count
 1:       SH        SD   155
 2:       SH       MMI   953
 3:       SL       PGA 29772
 4:       SL       MMI 18784
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='27'>Test-25: Vulnerability Alternative Curve Tests</h4>
 
 <ol>
 <li>Test Completeness of data</li>
 <li>Test that vdc2&lt;=vdc0&lt;=vdc1</li>
 </ol>
 
 <pre><code>
 US:
          <b><font color="green">PASS!</font></b> vdc0, vdc1, and vdc2 tables have the same number or records
          <b><font color="green">PASS!</font></b> for all curves the relation vdc2&lt;=vdc0&lt;=vdc1 is satisfied!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='28'>Test-26: Test Vlifelinebidc Table is Monotonically Increasing</h4>
 
 <pre><code>
 CHECK RISKLINK TABLES: 
 
 US:
 
 
 CHECK NG TABLES: 
          <b><font color="red">FAIL!</font></b> number of curves that hazard axis is not motonically increasing=46
 LLDC_IDs are :
    country LLDC_Id
 1       CA      11
 2       CA      17
 3       CA      67
 4       CA      49
 5       CA      66
 6       CA      31
 7       CA      48
 8       CA      30
 9       MX     141
 10      MX      66
 11      MX      55
 12      MX     134
 13      MX      64
 14      MX      45
 15      MX      34
 16      MX      54
 17      MX      23
 18      MX      43
 19      MX      33
 20      MX      13
 21      MX      22
 22      MX       3
 23      MX      11
 24      MX       1
 25      US      60
 26      US      63
 27      US      65
 28      US       3
 29      US       6
 30      US      58
 31      US      11
 32      US      15
 33      US      20
 34      US      24
 35      US      29
 36      US      32
 37      US      38
 38      US     138
 39      US      57
 40      US     148
 41      US     164
 42      US     105
 43      US      47
 44      US      53
 45      US      55
 46      US     101
          <b><font color="green">PASS!</font></b> mdr axis  on all curves are monotonically increasing!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='29'>Test-27: Minimum Value of MDR in CV Curves Should Start from Zero and Maximum Should be Above 100</h4>
 
 <pre><code>
 EQ-US:
          <b><font color="red">FAIL!</font></b> number of unmatched records= 4
          Records that do not pass the criteria are as follows:
    CGHS_ID CV_KEY MIN(MDR) MAX(MDR)
 1:       1 CGSPEC    0e+00      100
 2:       7 CGSPEC    0e+00      100
 3:      13 CGSPEC    1e-06      100
 4:      16 CGSPEC    1e-06      100
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='30'>Test-28: Test to Ensures Count of Modifier Options for A Given Modifier In A Given Model Does Not Exceed The Allowable Maximum.</h4>
 
 <pre><code>
 EQ-US:
          <b><font color="green">PASS!</font></b> all modif pdcs have less options than allowable number of options.
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='31'>Test-29: Consistency of x_CLASSIF and x_CLASS values across all perils for each country</h4>
 
 <pre><code>
 US:
 
 Country Perils are: 
 [1] &quot;eq&quot;
          Database only includes one peril for this country.
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='32'>Test-30: All codes in VGEO table should exist in NGGeography database</h4>
 
 <pre><code>
 EQ-US:
          CRESTA:
 </code></pre>
 
 <pre><code>Error in if (!is.na(FieldLookup$CRESTA)) {: argument is of length zero
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='33'>Test-31  Test if summation of def_invpct in inv table adds up to 100</h4>
 
 <pre><code>
 EQ-US:
          This INV_OCC(s) is/are not considered in this query: BR%
          <b><font color="red">FAIL!</font></b> number of records where def_invpct does not add up to 100 = 1712 out of 1126343
    INV_RECNUM SumPCT SumWeighted INV_OCC O_CLASSIF O_CLASS
 1:     258861     95          NA IND6043   RMS IND    6043
 2:     258879     95          NA IND6043   RMS IND    6043
 3:     258888     95          NA IND6043   RMS IND    6043
 4:     258904     95          NA IND6043   RMS IND    6043
 5:     256414     95          NA IND6043   RMS IND    6043
 6:     256430     95          NA IND6043   RMS IND    6043
                                  O_DESC
 1: Electric Power - Solar Farms (Large)
 2: Electric Power - Solar Farms (Large)
 3: Electric Power - Solar Farms (Large)
 4: Electric Power - Solar Farms (Large)
 5: Electric Power - Solar Farms (Large)
 6: Electric Power - Solar Farms (Large)
 [1] &quot;Summary:&quot;
    INV_OCC                               O_DESC   N
 1: IND6043 Electric Power - Solar Farms (Large) 856
 2: IND6041 Electric Power - Solar Farms (Small) 856
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='34'>Test-32 Check if the list of distinct values of INV_RECNUM in IMAP table is the same as the list of distinct values of INV_RECNUM in vinv table</h4>
 
 <pre><code>
 EQ-US:
          <b><font color="green">PASS!</font></b> all records matched!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='35'>Test-33 CONSISTENCY OF BI_OCC BETWEEN VOCC AND OTHER BI RELATED TABLES (KEY IS BI_OCC)</h4>
 
 <pre><code>
 EQ-US:
 [1] &quot;NOTE: BI_OCCs related to BR and MARINE are exempted in this test!&quot;
 [1] &quot;BI Related tables are :&quot;
               name
 1: eqvlifelinebius
 2:         eqvbius
 3:      eqvbimodus
 4:        eqvoccus
          <b><font color="green">PASS!</font></b> bi_occ in all tbales matched!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='36'>Test-34 Check all columns in all tables of database to ensure always (From) is smaller than or equal to (To)</h4>
 
 <pre><code>
 EQ-US:
          <b><font color="green">PASS!</font></b> no records in eqcghsus have floorarea_from &gt; floorarea_to
          <b><font color="green">PASS!</font></b> no records in eqcghsus have floor_from &gt; floor_to
          <b><font color="green">PASS!</font></b> no records in eqfliinvus have ht_from &gt; ht_to
          <b><font color="green">PASS!</font></b> no records in eqfliinvus have yr_from &gt; yr_to
          <b><font color="green">PASS!</font></b> no records in eqvdsus have from_dr &gt; to_dr
          <b><font color="green">PASS!</font></b> no records in eqimapus have ht_from &gt; ht_to
          <b><font color="green">PASS!</font></b> no records in eqimapus have yr_from &gt; yr_to
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='37'>Test-35 All BI_OCCs in vbi table should have SD based DSIDs in vds table.(KEY IS BI_OCC)</h4>
 
 <pre><code>
 EQ-US:
          <b><font color="red">FAIL!</font></b> number of bi_occ(s) with no sd-based damage state id = 88
          c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 47, 48, 49, 50, 51, 52, 53, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100)
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='38'>Test-36 Check for cases where YR_TO==9999 in the imap table. Jira MDF-114</h4>
 
 <pre><code>
 EQ-US:
          <b><font color="green">PASS!</font></b> no imap record has yr_to = 9999!
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='39'>Test-37.  Check Valid AggHaz_Occ list for RL climate models(HU,CS and WT) Jira MDF-101</h4>
 
 <pre><code>         <b><font color="green">PASS!</font></b> this test only applies to climate models.
 </code></pre>
 <a href="#top">Go to top</a>
 <h4 id='40'>Test-38.  BI_CV curve should monotonically decrease with increase in MDR. Jira <a href="https://jira.rms.com/browse/MDF-120">https://jira.rms.com/browse/MDF-120</a></h4>
 
 <pre><code>
 EQ-US:
 </code></pre>
 
 <pre><code>Error in vecseq(f__, len__, if (allow.cartesian || notjoin || !anyDuplicated(f__, : Join results in 3676 rows; more than 1883 = nrow(x)+nrow(i). Check for duplicate key values in i each of which join to the same group in x over and over again. If that&#39;s ok, try by=.EACHI to run j for each group to avoid the large allocation. If you are sure you wish to proceed, rerun with allow.cartesian=TRUE. Otherwise, please search for this error message in the FAQ, Wiki, Stack Overflow and datatable-help for advice.
 </code></pre>
 <a href="#top">Go to top</a>
 </body>
 
 </html>
